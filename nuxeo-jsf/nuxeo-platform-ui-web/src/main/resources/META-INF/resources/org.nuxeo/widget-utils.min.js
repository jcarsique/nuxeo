var nuxeo=nuxeo||{};nuxeo.utils=function(e){function n(e){for(var n in s)s.hasOwnProperty(n)&&s[n].call(null,e)}function t(e,t){n({status:"begin",flag:t}),e(),n({status:"success",flag:t})}var s=[];return e.addOnEvent=function(e){if("function"!=typeof e)throw new Error("nuxeo.utils.addOnEvent: Added a callback that was not a function");s[s.length]=e},e.moreLessTableRows=function(e,n,t){var s=jQuery("[id$='"+e+"']"),i=jQuery("[id$='"+e+"'] tr"),r=s.parent().find(".nx-more"),o=s.parent().find(".nx-less");if(i.length<=t)return r.css("display","none"),void o.css("display","none");var u=s.find("tr:gt("+(t-1)+")");n?(r.css("display","none"),o.css("display",""),u.css("display","")):(o.css("display","none"),r.css("display",""),u.css("display","none"))},e.select2ifySelect=function(e,n){jQuery(document.getElementById(e)).select2(n)},e.addFromListTemplate=function(e,n){return t(function(){var t=jQuery(n),s=n.siblings(".listItem").length,i=jQuery("<div/>").html(t.html()).text().trim(),r=new RegExp(e+":TEMPLATE_INDEX_MARKER:rowIndex","g");i=i.replace(r,e+":rowIndex"),r=new RegExp(e+":TEMPLATE_INDEX_MARKER","g"),i=i.replace(r,e+":"+s);var o=jQuery.parseHTML(i,document,!0);jQuery(o).find("input[value='TEMPLATE_INDEX_MARKER']").val(s),t.before(o)},"js-list-add"),!1},e.deleteFromList=function(e){return t(function(){e.remove()},"js-list-delete"),!1},e.moveUpList=function(e){return t(function(){e.insertBefore(e.prev())},"js-list-move-up"),!1},e.moveDownList=function(e){return t(function(){e.insertAfter(e.next())},"js-list-move-down"),!1},e}(nuxeo.utils||{});