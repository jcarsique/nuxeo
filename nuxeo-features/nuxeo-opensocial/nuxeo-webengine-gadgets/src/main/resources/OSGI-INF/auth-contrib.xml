<?xml version="1.0"?>
<component name="org.nuxeo.webengine.gadget.auth.contrib">

  <extension
    target="org.nuxeo.ecm.platform.ui.web.auth.service.PluggableAuthenticationService"
    point="openUrl">

    <openUrl name="GadgetIMG">
      <grantPattern>${org.nuxeo.ecm.contextPath}/site/skin/gadgets/img/.*</grantPattern>
    </openUrl>
    <openUrl name="GadgetCSS">
      <grantPattern>${org.nuxeo.ecm.contextPath}/site/skin/gadgets/css/.*</grantPattern>
    </openUrl>
    <openUrl name="GadgetScripts">
      <grantPattern>${org.nuxeo.ecm.contextPath}/site/skin/gadgets/scripts/.*</grantPattern>
    </openUrl>

    <!-- needs to be sync with opensocial.properties -->
    <openUrl name="OpenSocialJS">
      <grantPattern>
        ${org.nuxeo.ecm.contextPath}/.*/gadgets/.*\.js
      </grantPattern>
    </openUrl>
    <openUrl name="OpenSocialCSS">
      <grantPattern>
        ${org.nuxeo.ecm.contextPath}/.*/gadgets/.*\.css
      </grantPattern>
    </openUrl>
    <openUrl name="OpenSocialXML">
      <grantPattern>
        ${org.nuxeo.ecm.contextPath}/.*/gadgets/.*\.xml
      </grantPattern>
    </openUrl>

  </extension>

</component>
