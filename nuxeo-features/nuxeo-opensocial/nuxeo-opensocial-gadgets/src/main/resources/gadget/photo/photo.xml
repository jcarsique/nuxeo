<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="Photo" height="95" scrolling="true"
    scaling="true" directory_title="Photo"
    description="File browser in the ECM system" author="Guillaume CUSNIEUX"
    author_email="gcusnieux@leroymerlin.fr" author_affiliation="Leroy Merlin"
    author_location="Lezennes, France"  icon="photo.png">
    <Require feature="dynamic-height" />
    <Require feature="nuxeo" />
    <Require feature="setprefs"/>
    <Require feature="jquery" />
    <Require feature="form" />
  </ModulePrefs>
  <UserPref name="picTitle" datatype="hidden"/>
  <UserPref name="link" datatype="hidden"/>
  <UserPref name="legend" datatype="hidden"/>
  <Content type="html" view="default">
<![CDATA[
 <style type='text/css'>
   #hide img{
     border:0;
     padding:5px 5px 0 0;
   }

   *{
      font-family:Trebuchet, Arial,Verdana;
      font-size:11px;
    }

    label{
       font-family:Tahoma, Arial,Verdana;
       font-weight:bold;
       padding-left:8px;
    }

    #show a{
      text-decoration:none;
      padding-left:20px;
      background:url(/nuxeo/img/edit.png) no-repeat 0 0;
      color:#000000;
      font-weight:bold;
      display:inline-block;
      height:16px;
    }

    #show a:hover{
      text-decoration:underline;
    }

    #show{
     text-align:right;
    }


    #title{
    font-size:14px;
    color:#13506B;
    text-align:center;
    font-weight:bold;
    }

    #legend{
      font-size:10px;
      color:#333333;
    }

  #hideContainer{
    background:#666666;
    text-align:right;
  }

  #title-field,#link-field,#legend-field{
    width:98%;
    border:1px solid #ffffff;
  }


  #formPhoto{
   background:#666666;
  }

  #formPhoto td{
   color:#ffffff;
  }

  #upload{
    padding-left:14px;
    background:url(/nuxeo/img/accept.png) no-repeat 0 0;
    color:#FFFFFF;
    display:block;
    float:right;
    font-weight:bold;
    padding-left:18px;
    text-decoration:none;
  }

  #upload:hover{
      text-decoration:underline;
    }

  </style>
  <script type="text/javascript" language="javascript" src="photo.js"></script>
   <script type="text/javascript">
   var prefs = new _IG_Prefs(__MODULE_ID__);

  gadgets.util.registerOnLoadHandler( function() {
    launchGadget();
  });
   </script>
   <div id="title"></div>
     <div style="text-align:center;margin:auto;" id="pictureContainer">
         <a href="#" id="photolink"><img id="photo" width="100%" style="border:0;"/></a>
         <span id="pictureLegend"></span>
    </div>
    <div id="perm" style="display:none;">
    <div id="show"><a href="#">Modifier</a></div>

  <div style="display:none;margin:auto" id="form">
  <div id="hideContainer"><a href="#" id="hide" title="fermer"><img src="/nuxeo/img/x.png"></a></div>
  <table style="width:100%" id="formPhoto">
  <tr>
    <td style="width:30%"><label for="photo">Photo</label> </td>
    <td style="width:70%">
    <form style="text-align:center;" method="post" id="formUpload" enctype="multipart/form-data" action="#">
      <input type="file" name="file" id="file" size="20" />
      <input type="hidden" name="resize_width" value="default" />
    </form>
  </td>
  </tr>
  <tr>
    <td style="width:30%"><label for="title">Titre</label></td>
    <td style="width:70%"><input type="text" name="title" id="title-field" /></td>
  </tr>
  <tr>
    <td style="width:30%"><label for="link">Lien</label></td>
    <td style="width:70%"><input type="text" name="link" id="link-field" /></td>
  </tr>
  <tr>
    <td style="width:30%"><label for="legend">LÃ©gende</label></td>
    <td style="width:70%"><textarea type="text" name="legend" id="legend-field" /></td>
  </tr>
  <tr>
    <td style="width:30%"></td>
    <td style="width:70%">
      <a href="" id="upload">Valider</a>
    </td>
  </tr>
  </table>
  </div>
  </div>
  ]]>
  </Content>

</Module>
